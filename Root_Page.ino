
#include<Arduino.h>

#include "Root_Page.h"
#include "System_Init.h"


//width:43 height:47
const unsigned char pic_dinosaur_1[] =
{
    0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    0xFF,0xFF,0xFF,0xFF,0xFF,0x80,0x00,0x7F,0xFF,0xFF,0xFF,0x80,0x00,0x7F,0xFF,0xFF,
    0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x18,0x00,0x1F,0xFF,0xFF,0xFE,0x18,0x00,0x1F,
    0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,
    0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,
    0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x7F,0xFF,0xFF,0xFF,0xFE,0x00,0x7F,0xFF,
    0xFF,0xFF,0xFE,0x00,0x01,0xFF,0xFF,0xFF,0xFE,0x00,0x01,0xFF,0xE7,0xFF,0xF8,0x01,
    0xFF,0xFF,0xE7,0xFF,0xF8,0x01,0xFF,0xFF,0xE7,0xFF,0xC0,0x01,0xFF,0xFF,0xE7,0xFF,
    0xC0,0x01,0xFF,0xFF,0xE1,0xFE,0x00,0x00,0x1F,0xFF,0xE1,0xFE,0x00,0x00,0x1F,0xFF,
    0xE0,0x78,0x00,0x01,0x9F,0xFF,0xE0,0x78,0x00,0x01,0x9F,0xFF,0xE0,0x00,0x00,0x01,
    0xFF,0xFF,0xE0,0x00,0x00,0x01,0xFF,0xFF,0xE0,0x00,0x00,0x01,0xFF,0xFF,0xE0,0x00,
    0x00,0x01,0xFF,0xFF,0xF8,0x00,0x00,0x01,0xFF,0xFF,0xF8,0x00,0x00,0x07,0xFF,0xFF,
    0xFE,0x00,0x00,0x07,0xFF,0xFF,0xFE,0x00,0x00,0x07,0xFF,0xFF,0xFF,0x80,0x00,0x1F,
    0xFF,0xFF,0xFF,0x80,0x00,0x1F,0xFF,0xFF,0xFF,0xE0,0x00,0x7F,0xFF,0xFF,0xFF,0xE0,
    0x00,0x7F,0xFF,0xFF,0xFF,0xF8,0x1E,0x0F,0xFF,0xFF,0xFF,0xF8,0x1E,0x0F,0xFF,0xFF,
    0xFF,0xF8,0x7F,0xFF,0xFF,0xFF,0xFF,0xF8,0x7F,0xFF,0xFF,0xFF,0xFF,0xF9,0xFF,0xFF,
    0xFF,0xFF,0xFF,0xF9,0xFF,0xFF,0xFF,0xFF,0xFF,0xF8,0x7F,0xFF,0xFF,0xFF,0xFF,0xF8,
    0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
};

const unsigned char pic_dinosaur_2[] =
{
    0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x80,0x00,0x7F,0xFF,0xFF,
    0xFF,0x80,0x00,0x7F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x18,0x00,0x1F,
    0xFF,0xFF,0xFE,0x18,0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,
    0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,
    0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x00,0x1F,0xFF,0xFF,0xFE,0x00,0x7F,0xFF,
    0xFF,0xFF,0xFE,0x00,0x7F,0xFF,0xFF,0xFF,0xFE,0x00,0x01,0xFF,0xFF,0xFF,0xFE,0x00,
    0x01,0xFF,0xE7,0xFF,0xF8,0x01,0xFF,0xFF,0xE7,0xFF,0xF8,0x01,0xFF,0xFF,0xE7,0xFF,
    0xC0,0x01,0xFF,0xFF,0xE7,0xFF,0xC0,0x01,0xFF,0xFF,0xE1,0xFE,0x00,0x00,0x1F,0xFF,
    0xE1,0xFE,0x00,0x00,0x1F,0xFF,0xE0,0x78,0x00,0x01,0x9F,0xFF,0xE0,0x78,0x00,0x01,
    0x9F,0xFF,0xE0,0x00,0x00,0x01,0xFF,0xFF,0xE0,0x00,0x00,0x01,0xFF,0xFF,0xE0,0x00,
    0x00,0x01,0xFF,0xFF,0xE0,0x00,0x00,0x01,0xFF,0xFF,0xF8,0x00,0x00,0x01,0xFF,0xFF,
    0xF8,0x00,0x00,0x07,0xFF,0xFF,0xFE,0x00,0x00,0x07,0xFF,0xFF,0xFE,0x00,0x00,0x07,
    0xFF,0xFF,0xFF,0x80,0x00,0x1F,0xFF,0xFF,0xFF,0x80,0x00,0x1F,0xFF,0xFF,0xFF,0xE0,
    0x00,0x7F,0xFF,0xFF,0xFF,0xE0,0x00,0x7F,0xFF,0xFF,0xFF,0xF8,0x78,0x7F,0xFF,0xFF,
    0xFF,0xF8,0x78,0x7F,0xFF,0xFF,0xFF,0xFE,0x1E,0x7F,0xFF,0xFF,0xFF,0xFE,0x1E,0x7F,
    0xFF,0xFF,0xFF,0xFF,0xFE,0x7F,0xFF,0xFF,0xFF,0xFF,0xFE,0x7F,0xFF,0xFF,0xFF,0xFF,
    0xFE,0x1F,0xFF,0xFF,0xFF,0xFF,0xFE,0x1F,0xFF,0xFF,
};


void DrawDinosaurGIF( void )
{
    my_display.setFullWindow();
    my_display.fillScreen( GxEPD_WHITE );
    my_u8g2_fonts.setCursor( 60, 40 );
    my_u8g2_fonts.print("原神,启动!");

    my_display.drawInvertedBitmap( DINOSAUR_POS_X, DINOSAUR_POS_Y, pic_dinosaur_1, DINOSAUR_WIDTH, DINOSAUR_HEIGH, GxEPD_BLACK );
    my_display.nextPage();

    my_display.setPartialWindow( DINOSAUR_POS_X, DINOSAUR_POS_Y, DINOSAUR_WIDTH, DINOSAUR_HEIGH );

    uint8_t counter = 0;

    while( 1 )
    {
        counter++;
        if( counter % 2 == 1 )
        {
            my_display.fillRect( DINOSAUR_POS_X, DINOSAUR_POS_Y, DINOSAUR_WIDTH, DINOSAUR_HEIGH, GxEPD_WHITE );
            my_display.drawInvertedBitmap( DINOSAUR_POS_X, DINOSAUR_POS_Y, pic_dinosaur_2, DINOSAUR_WIDTH, DINOSAUR_HEIGH, GxEPD_BLACK );
        }
        else
        {
            my_display.fillRect( DINOSAUR_POS_X, DINOSAUR_POS_Y, DINOSAUR_WIDTH, DINOSAUR_HEIGH, GxEPD_WHITE );
            my_display.drawInvertedBitmap( DINOSAUR_POS_X, DINOSAUR_POS_Y, pic_dinosaur_1, DINOSAUR_WIDTH, DINOSAUR_HEIGH, GxEPD_BLACK );
        }
        my_display.nextPage();
        vTaskDelay( pdMS_TO_TICKS( 200 ) );
    }

    return;
}
